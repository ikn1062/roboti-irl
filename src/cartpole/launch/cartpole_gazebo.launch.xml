<launch>
    <arg name="world" default="empty"/>
    <arg name="urdf_file" default="$(find-pkg-share cartpole)/urdf/xacro/cartpole_urdf.urdf.xacro" />
    
    <include file="$(find-pkg-share ros_gz_sim)/launch/gz_sim.launch.py">
        <arg name="ign_args" value="-r -v 2 $(var world).sdf"/>
    </include>

    <node pkg="ros_gz_sim" exec="create" name="cartpole_gazebo" output="screen" args="-world $(var world) -file $(var urdf_file)"> </node>
    <node pkg="ros_gz_bridge" exec="parameter_bridge" name="ros2_gazebo_bridge" output="screen" args="/cartpole/cmd@std_msgs/msg/Float64@ignition.msgs.Double"> </node>

    <node name="teleop_keyboard" pkg="turtlebot3_teleop" exec="teleop_keyboard" output="screen"  launch-prefix="xterm -e"/> 
    
    <node name="cartpole_control" pkg="cartpole" exec="cartpole_ctrl" output = "screen"> 
        <!-- <param from="$(find-pkg-share cartpole_ctrl)/config/lidar_simulation.yaml" /> -->
    </node>
</launch>